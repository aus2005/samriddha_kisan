{% extends "layout.html" %}

{% block title %}ЁЯМ╛ рдмрд╛рд▓реА рдкрд╛рддреНрд░реЛ{% endblock %}

{% block content %}
  <h2>ЁЯМ╛ рдмрд╛рд▓реА рдкрд╛рддреНрд░реЛ</h2>

  <form method="get">
    <label for="crop-select">рдмрд╛рд▓реА рдЫрд╛рдиреНрдиреБрд╣реЛрд╕реН:</label>
    <select name="crop" id="crop-select" onchange="this.form.submit()">
      <option disabled {% if not selected_crop %}selected{% endif %}>-- рдЫрдиреМрдЯ рдЧрд░реНрдиреБрд╣реЛрд╕реН --</option>
      {% for crop in crops %}
        <option value="{{ crop }}" {% if crop == selected_crop %}selected{% endif %}>{{ crop }}</option>
      {% endfor %}
    </select>
  </form>

  {% if selected_crop %}
    <h3>ЁЯУЛ рдЬрд╛рдирдХрд╛рд░реА: {{ selected_crop }}</h3>
    <p>рдмрд┐рдЙ рдЫрд░реНрдиреЗ рд╕рдордп: {{ sowing_time }}</p>
    <p>рдХрд╛рдЯреНрди рд╕рдордп рд▓рд╛рдЧреНрдиреЗ рджрд┐рди: {{ harvesting_days }} рджрд┐рди</p>
    <p>рдкрд╛рдиреА рд╣рд╛рд▓реНрдиреЗ рдЕрдиреНрддрд░рд╛рд▓: рдкреНрд░рддреНрдпреЗрдХ {{ watering_interval }} рджрд┐рди</p>
    <p>рдорд▓ рд╣рд╛рд▓реНрдиреЗ рдЕрдиреНрддрд░рд╛рд▓: рдкреНрд░рддреНрдпреЗрдХ {{ fertilizing_interval }} рджрд┐рди</p>

    {% for calendar in calendars %}
      <h4>{{ calendar.month_name }} {{ calendar.year }}</h4>
      <table>
        <tr>
          <th>рдЖрдЗрдд</th>
          <th>рд╕реЛрдо</th>
          <th>рдордВрдЧрд▓</th>
          <th>рдмреБрдз</th>
          <th>рдмрд┐рд╣реА</th>
          <th>рд╢реБрдХреНрд░</th>
          <th>рд╢рдирд┐</th>
        </tr>
        {% for week in calendar.weeks %}
          <tr>
            {% for day in week %}
              <td>{{ day|safe }}</td>
            {% endfor %}
          </tr>
        {% endfor %}
      </table>
    {% endfor %}
  {% endif %}
{% endblock %}

{% block styles %}
<style>
  select {
    font-size: 16px;
    padding: 6px;
    margin: 10px;
  }
  table {
    border-collapse: collapse;
    margin: 20px auto;
  }
  th, td {
    border: 1px solid #ccc;
    width: 50px;
    height: 50px;
    text-align: center;
    font-size: 16px;
  }
  th {
    background-color: #cdebb0;
  }
  h2 {
    margin-top: 20px;
    text-align: center;
  }
</style>
{% endblock %}
